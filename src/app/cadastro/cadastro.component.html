<div class="container">
	<div class="page-header">
		<h1>
			{{operacao}} <small>{{smallOperacao}}</small>
		</h1>
	</div>
	<div class="jumbotron">
		<h2>{{foto.titulo}}</h2>
	</div>
	<div class="col-sm-6">
    <p *ngIf="mensagem.length" class="alert alert-info">{{mensagem}}</p>
		<form [formGroup]="formCadastro" (submit)="cadastrar($event)" class="row">
			<!-- Validação feita pelo Modelo -->
			<div class="form-group">
				<label>Título</label> 
				<input formControlName="titulo" [(ngModel)]="foto.titulo"
					class="form-control" name="titulo">
				<span *ngIf="
							formCadastro.controls.titulo.invalid &&
							!formCadastro.controls.titulo.pristine" >
					<span *ngIf="formCadastro.controls.titulo.errors.required" class="form-control alert-danger">Titulo é obrigatório</span>
					<span *ngIf="formCadastro.controls.titulo.errors.minlength" class="form-control alert-danger">Titulo de possuir no mínimo 3 caracteres</span>
				</span>
			</div>
			
			<div class="form-group">
				<label>URL</label> 
				<input formControlName="url" [(ngModel)]="foto.url" name="url"
					class="form-control">
				<span *ngIf="formCadastro.controls.url.invalid 
				&& !formCadastro.controls.url.pristine" class="form-control alert-danger">
				<span *ngIf="formCadastro.controls.url.errors.required">URL da imagem é obrigatório</span>
				<span *ngIf="formCadastro.controls.url.errors.minlength">URL de possuir no mínimo 10 caracteres</span>
				</span>
			</div>
			
			<div class="form-group">
				<label>Descrição</label>
				<textarea formControlName="descricao" [(ngModel)]="foto.descricao" name="descricao"
					class="form-control">
				  </textarea>
				<!--<span *ngIf="" class="form-control alert-danger">
						Descrição é obrigatório
				</span> -->
			</div>
			<button type="submit" class="btn btn-primary" [disabled]="formCadastro.invalid">Salvar</button>
			<a [routerLink]="['/lista']" class="btn btn-danger">Voltar</a>
		</form>
	</div>
	<aside class="col-sm-6">
		<Foto url="{{ foto.url }}" titulo="{{ foto.titulo }}"></Foto>
	</aside>
</div>

